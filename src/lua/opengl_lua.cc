/*
 * opengl_lua.cc
 * Author: Samuel Vargas
 * Date: 05/07/2017
 */

#include "opengl_lua.h"
#include "framebuffer.h"
#include "glshader.h"
#include "glmodel.h"
#include "glm.hpp"

void OpenGLWrapper::bind(sol::state& state) {

   auto gl = state.create_named_table("gl");

   OpenGLWrapper::bindGL3Enums(gl);
   OpenGLWrapper::bindCoreEnums(gl);
   OpenGLWrapper::bindFboEnums(gl);

   /// glm
   gl.new_usertype<glm::vec3>("vec3",
         sol::constructors<glm::vec3(), glm::vec3(float, float, float)>(),
         "x", &glm::vec3::x,
         "y", &glm::vec3::y,
         "z", &glm::vec3::z
   );

   /// Core OpenGL Stuff
   gl.create_named("GLVectorLen",
         "OneD",   GLVectorLen::OneD,
         "TwoD",   GLVectorLen::TwoD,
         "ThreeD", GLVectorLen::ThreeD,
         "FourD",  GLVectorLen::FourD
   );

   gl.new_usertype<GPUBuffer>("GPUBuffer",
         sol::constructors<GPUBuffer(size_t, sol::table)>(),
         "bind",    &GPUBuffer::bind,
         "unbind",  &GPUBuffer::unbind,
         "insert",  static_cast<void (GPUBuffer::*)(unsigned char, sol::table)>(&GPUBuffer::insert)
   );

   /// Framebuffers
   gl.new_usertype<Framebuffer>("Framebuffer",
         sol::constructors<Framebuffer()>(),
         "bind",       &Framebuffer::bind,
         "unbind",     &Framebuffer::unbind,
         "addTexture", &Framebuffer::addTexture
   );

   /// Shaders
   gl.new_usertype<GLShader>("Shader",
         sol::constructors<GLShader(sol::table)>(),
         "bind",       &GLShader::bind,
         "unbind",     &GLShader::unbind
   );

   /// Models
   gl.new_usertype<GLModel>("Model",
         "new", sol::no_constructor,
         "loadFromWavefront", &GLModel::loadFromWavefront,
         "getPosition",       &GLModel::getPosition,
         "getRotation",       &GLModel::getRotation,
         "getScale",          &GLModel::getScale
   );

}

void OpenGLWrapper::bindGL3Enums(sol::table& table) {

   sol::optional<sol::table> hasEnumTable = table["enum"];
   sol::table e;
   if (!hasEnumTable) {
      table.create_named("enum");
   }

   e = table["enum"];
   e["CLIP_DISTANCE0"] =  GL_CLIP_PLANE0;
   e["CLIP_DISTANCE1"] =  GL_CLIP_PLANE1;
   e["CLIP_DISTANCE2"] =  GL_CLIP_PLANE2;
   e["CLIP_DISTANCE3"] =  GL_CLIP_PLANE3;
   e["CLIP_DISTANCE4"] =  GL_CLIP_PLANE4;
   e["CLIP_DISTANCE5"] =  GL_CLIP_PLANE5;
   e["COMPARE_REF_TO_TEXTURE"] =  GL_COMPARE_R_TO_TEXTURE_ARB;
   e["MAX_CLIP_DISTANCES"] =  GL_MAX_CLIP_PLANES;
   e["MAX_VARYING_COMPONENTS"] =  GL_MAX_VARYING_FLOATS;
   e["CONTEXT_FLAG_FORWARD_COMPATIBLE_BIT"] =  0x0001;
   e["MAJOR_VERSION"] =  0x821B;
   e["MINOR_VERSION"] =  0x821C;
   e["NUM_EXTENSIONS"] =  0x821D;
   e["CONTEXT_FLAGS"] =  0x821E;
   e["DEPTH_BUFFER"] =  0x8223;
   e["STENCIL_BUFFER"] =  0x8224;
   e["RGBA32F"] =  0x8814;
   e["RGB32F"] =  0x8815;
   e["RGBA16F"] =  0x881A;
   e["RGB16F"] =  0x881B;
   e["VERTEX_ATTRIB_ARRAY_INTEGER"] =  0x88FD;
   e["MAX_ARRAY_TEXTURE_LAYERS"] =  0x88FF;
   e["MIN_PROGRAM_TEXEL_OFFSET"] =  0x8904;
   e["MAX_PROGRAM_TEXEL_OFFSET"] =  0x8905;
   e["CLAMP_VERTEX_COLOR"] =  0x891A;
   e["CLAMP_FRAGMENT_COLOR"] =  0x891B;
   e["CLAMP_READ_COLOR"] =  0x891C;
   e["FIXED_ONLY"] =  0x891D;
   e["TEXTURE_RED_TYPE"] =  0x8C10;
   e["TEXTURE_GREEN_TYPE"] =  0x8C11;
   e["TEXTURE_BLUE_TYPE"] =  0x8C12;
   e["TEXTURE_ALPHA_TYPE"] =  0x8C13;
   e["TEXTURE_LUMINANCE_TYPE"] =  0x8C14;
   e["TEXTURE_INTENSITY_TYPE"] =  0x8C15;
   e["TEXTURE_DEPTH_TYPE"] =  0x8C16;
   e["TEXTURE_1D_ARRAY"] =  0x8C18;
   e["PROXY_TEXTURE_1D_ARRAY"] =  0x8C19;
   e["TEXTURE_2D_ARRAY"] =  0x8C1A;
   e["PROXY_TEXTURE_2D_ARRAY"] =  0x8C1B;
   e["TEXTURE_BINDING_1D_ARRAY"] =  0x8C1C;
   e["TEXTURE_BINDING_2D_ARRAY"] =  0x8C1D;
   e["R11F_G11F_B10F"] =  0x8C3A;
   e["UNSIGNED_INT_10F_11F_11F_REV"] =  0x8C3B;
   e["RGB9_E5"] =  0x8C3D;
   e["UNSIGNED_INT_5_9_9_9_REV"] =  0x8C3E;
   e["TEXTURE_SHARED_SIZE"] =  0x8C3F;
   e["TRANSFORM_FEEDBACK_VARYING_MAX_LENGTH"] =  0x8C76;
   e["TRANSFORM_FEEDBACK_BUFFER_MODE"] =  0x8C7F;
   e["MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS"] =  0x8C80;
   e["TRANSFORM_FEEDBACK_VARYINGS"] =  0x8C83;
   e["TRANSFORM_FEEDBACK_BUFFER_START"] =  0x8C84;
   e["TRANSFORM_FEEDBACK_BUFFER_SIZE"] =  0x8C85;
   e["PRIMITIVES_GENERATED"] =  0x8C87;
   e["TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN"] =  0x8C88;
   e["RASTERIZER_DISCARD"] =  0x8C89;
   e["MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS"] =  0x8C8A;
   e["MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS"] =  0x8C8B;
   e["INTERLEAVED_ATTRIBS"] =  0x8C8C;
   e["SEPARATE_ATTRIBS"] =  0x8C8D;
   e["TRANSFORM_FEEDBACK_BUFFER"] =  0x8C8E;
   e["TRANSFORM_FEEDBACK_BUFFER_BINDING"] =  0x8C8F;
   e["RGBA32UI"] =  0x8D70;
   e["RGB32UI"] =  0x8D71;
   e["RGBA16UI"] =  0x8D76;
   e["RGB16UI"] =  0x8D77;
   e["RGBA8UI"] =  0x8D7C;
   e["RGB8UI"] =  0x8D7D;
   e["RGBA32I"] =  0x8D82;
   e["RGB32I"] =  0x8D83;
   e["RGBA16I"] =  0x8D88;
   e["RGB16I"] =  0x8D89;
   e["RGBA8I"] =  0x8D8E;
   e["RGB8I"] =  0x8D8F;
   e["RED_INTEGER"] =  0x8D94;
   e["GREEN_INTEGER"] =  0x8D95;
   e["BLUE_INTEGER"] =  0x8D96;
   e["ALPHA_INTEGER"] =  0x8D97;
   e["RGB_INTEGER"] =  0x8D98;
   e["RGBA_INTEGER"] =  0x8D99;
   e["BGR_INTEGER"] =  0x8D9A;
   e["BGRA_INTEGER"] =  0x8D9B;
   e["SAMPLER_1D_ARRAY"] =  0x8DC0;
   e["SAMPLER_2D_ARRAY"] =  0x8DC1;
   e["SAMPLER_1D_ARRAY_SHADOW"] =  0x8DC3;
   e["SAMPLER_2D_ARRAY_SHADOW"] =  0x8DC4;
   e["SAMPLER_CUBE_SHADOW"] =  0x8DC5;
   e["UNSIGNED_INT_VEC2"] =  0x8DC6;
   e["UNSIGNED_INT_VEC3"] =  0x8DC7;
   e["UNSIGNED_INT_VEC4"] =  0x8DC8;
   e["INT_SAMPLER_1D"] =  0x8DC9;
   e["INT_SAMPLER_2D"] =  0x8DCA;
   e["INT_SAMPLER_3D"] =  0x8DCB;
   e["INT_SAMPLER_CUBE"] =  0x8DCC;
   e["INT_SAMPLER_1D_ARRAY"] =  0x8DCE;
   e["INT_SAMPLER_2D_ARRAY"] =  0x8DCF;
   e["UNSIGNED_INT_SAMPLER_1D"] =  0x8DD1;
   e["UNSIGNED_INT_SAMPLER_2D"] =  0x8DD2;
   e["UNSIGNED_INT_SAMPLER_3D"] =  0x8DD3;
   e["UNSIGNED_INT_SAMPLER_CUBE"] =  0x8DD4;
   e["UNSIGNED_INT_SAMPLER_1D_ARRAY"] =  0x8DD6;
   e["UNSIGNED_INT_SAMPLER_2D_ARRAY"] =  0x8DD7;
   e["QUERY_WAIT"] =  0x8E13;
   e["QUERY_NO_WAIT"] =  0x8E14;
   e["QUERY_BY_REGION_WAIT"] =  0x8E15;
   e["QUERY_BY_REGION_NO_WAIT"] =  0x8E16;
}

/// taken from glew.h
void OpenGLWrapper::bindCoreEnums(sol::table& table) {
   sol::optional<sol::table> hasEnumTable = table["enum"];
   sol::table e;
   if (!hasEnumTable) {
      table.create_named("enum");
   }

   e = table["enum"];
   e["ZERO"] = GL_ZERO;
   e["FALSE"] = GL_FALSE;
   e["LOGIC_OP"] = 0x0BF1;
   e["NONE"] = 0;
   e["TEXTURE_COMPONENTS"] = 0x1003,
   e["NO_ERROR"] = 0;
   e["POINTS"] = 0x0000;
   e["CURRENT_BIT"] = 0x00000001;
   e["TRUE"] = 1;
   e["ONE"] = 1;
   e["CLIENT_PIXEL_STORE_BIT"] = 0x00000001;
   e["LINES"] = 0x0001;
   e["LINE_LOOP"] = 0x0002;
   e["POINT_BIT"] = 0x00000002;
   e["CLIENT_VERTEX_ARRAY_BIT"] = 0x00000002;
   e["LINE_STRIP"] = 0x0003;
   e["LINE_BIT"] = 0x00000004;
   e["TRIANGLES"] = 0x0004;
   e["TRIANGLE_STRIP"] = 0x0005;
   e["TRIANGLE_FAN"] = 0x0006;
   e["QUADS"] = 0x0007;
   e["QUAD_STRIP"] = 0x0008;
   e["POLYGON_BIT"] = 0x00000008;
   e["POLYGON"] = 0x0009;
   e["POLYGON_STIPPLE_BIT"] = 0x00000010;
   e["PIXEL_MODE_BIT"] = 0x00000020;
   e["LIGHTING_BIT"] = 0x00000040;
   e["FOG_BIT"] = 0x00000080;
   e["DEPTH_BUFFER_BIT"] = 0x00000100;
   e["ACCUM"] = 0x0100;
   e["LOAD"] = 0x0101;
   e["RETURN"] = 0x0102;
   e["MULT"] = 0x0103;
   e["ADD"] = 0x0104;
   e["NEVER"] = 0x0200;
   e["ACCUM_BUFFER_BIT"] = 0x00000200;
   e["LESS"] = 0x0201;
   e["EQUAL"] = 0x0202;
   e["LEQUAL"] = 0x0203;
   e["GREATER"] = 0x0204;
   e["NOTEQUAL"] = 0x0205;
   e["GEQUAL"] = 0x0206;
   e["ALWAYS"] = 0x0207;
   e["SRC_COLOR"] = 0x0300;
   e["ONE_MINUS_SRC_COLOR"] = 0x0301;
   e["SRC_ALPHA"] = 0x0302;
   e["ONE_MINUS_SRC_ALPHA"] = 0x0303;
   e["DST_ALPHA"] = 0x0304;
   e["ONE_MINUS_DST_ALPHA"] = 0x0305;
   e["DST_COLOR"] = 0x0306;
   e["ONE_MINUS_DST_COLOR"] = 0x0307;
   e["SRC_ALPHA_SATURATE"] = 0x0308;
   e["STENCIL_BUFFER_BIT"] = 0x00000400;
   e["FRONT_LEFT"] = 0x0400;
   e["FRONT_RIGHT"] = 0x0401;
   e["BACK_LEFT"] = 0x0402;
   e["BACK_RIGHT"] = 0x0403;
   e["FRONT"] = 0x0404;
   e["BACK"] = 0x0405;
   e["LEFT"] = 0x0406;
   e["RIGHT"] = 0x0407;
   e["FRONT_AND_BACK"] = 0x0408;
   e["AUX0"] = 0x0409;
   e["AUX1"] = 0x040A;
   e["AUX2"] = 0x040B;
   e["AUX3"] = 0x040C;
   e["INVALID_ENUM"] = 0x0500;
   e["INVALID_VALUE"] = 0x0501;
   e["INVALID_OPERATION"] = 0x0502;
   e["STACK_OVERFLOW"] = 0x0503;
   e["STACK_UNDERFLOW"] = 0x0504;
   e["OUT_OF_MEMORY"] = 0x0505;
   e["2D"] = 0x0600;
   e["3D"] = 0x0601;
   e["3D_COLOR"] = 0x0602;
   e["3D_COLOR_TEXTURE"] = 0x0603;
   e["4D_COLOR_TEXTURE"] = 0x0604;
   e["PASS_THROUGH_TOKEN"] = 0x0700;
   e["POINT_TOKEN"] = 0x0701;
   e["LINE_TOKEN"] = 0x0702;
   e["POLYGON_TOKEN"] = 0x0703;
   e["BITMAP_TOKEN"] = 0x0704;
   e["DRAW_PIXEL_TOKEN"] = 0x0705;
   e["COPY_PIXEL_TOKEN"] = 0x0706;
   e["LINE_RESET_TOKEN"] = 0x0707;
   e["EXP"] = 0x0800;
   e["VIEWPORT_BIT"] = 0x00000800;
   e["EXP2"] = 0x0801;
   e["CW"] = 0x0900;
   e["CCW"] = 0x0901;
   e["COEFF"] = 0x0A00;
   e["ORDER"] = 0x0A01;
   e["DOMAIN"] = 0x0A02;
   e["CURRENT_COLOR"] = 0x0B00;
   e["CURRENT_INDEX"] = 0x0B01;
   e["CURRENT_NORMAL"] = 0x0B02;
   e["CURRENT_TEXTURE_COORDS"] = 0x0B03;
   e["CURRENT_RASTER_COLOR"] = 0x0B04;
   e["CURRENT_RASTER_INDEX"] = 0x0B05;
   e["CURRENT_RASTER_TEXTURE_COORDS"] = 0x0B06;
   e["CURRENT_RASTER_POSITION"] = 0x0B07;
   e["CURRENT_RASTER_POSITION_VALID"] = 0x0B08;
   e["CURRENT_RASTER_DISTANCE"] = 0x0B09;
   e["POINT_SMOOTH"] = 0x0B10;
   e["POINT_SIZE"] = 0x0B11;
   e["POINT_SIZE_RANGE"] = 0x0B12;
   e["POINT_SIZE_GRANULARITY"] = 0x0B13;
   e["LINE_SMOOTH"] = 0x0B20;
   e["LINE_WIDTH"] = 0x0B21;
   e["LINE_WIDTH_RANGE"] = 0x0B22;
   e["LINE_WIDTH_GRANULARITY"] = 0x0B23;
   e["LINE_STIPPLE"] = 0x0B24;
   e["LINE_STIPPLE_PATTERN"] = 0x0B25;
   e["LINE_STIPPLE_REPEAT"] = 0x0B26;
   e["LIST_MODE"] = 0x0B30;
   e["MAX_LIST_NESTING"] = 0x0B31;
   e["LIST_BASE"] = 0x0B32;
   e["LIST_INDEX"] = 0x0B33;
   e["POLYGON_MODE"] = 0x0B40;
   e["POLYGON_SMOOTH"] = 0x0B41;
   e["POLYGON_STIPPLE"] = 0x0B42;
   e["EDGE_FLAG"] = 0x0B43;
   e["CULL_FACE"] = 0x0B44;
   e["CULL_FACE_MODE"] = 0x0B45;
   e["FRONT_FACE"] = 0x0B46;
   e["LIGHTING"] = 0x0B50;
   e["LIGHT_MODEL_LOCAL_VIEWER"] = 0x0B51;
   e["LIGHT_MODEL_TWO_SIDE"] = 0x0B52;
   e["LIGHT_MODEL_AMBIENT"] = 0x0B53;
   e["SHADE_MODEL"] = 0x0B54;
   e["COLOR_MATERIAL_FACE"] = 0x0B55;
   e["COLOR_MATERIAL_PARAMETER"] = 0x0B56;
   e["COLOR_MATERIAL"] = 0x0B57;
   e["FOG"] = 0x0B60;
   e["FOG_INDEX"] = 0x0B61;
   e["FOG_DENSITY"] = 0x0B62;
   e["FOG_START"] = 0x0B63;
   e["FOG_END"] = 0x0B64;
   e["FOG_MODE"] = 0x0B65;
   e["FOG_COLOR"] = 0x0B66;
   e["DEPTH_RANGE"] = 0x0B70;
   e["DEPTH_TEST"] = 0x0B71;
   e["DEPTH_WRITEMASK"] = 0x0B72;
   e["DEPTH_CLEAR_VALUE"] = 0x0B73;
   e["DEPTH_FUNC"] = 0x0B74;
   e["ACCUM_CLEAR_VALUE"] = 0x0B80;
   e["STENCIL_TEST"] = 0x0B90;
   e["STENCIL_CLEAR_VALUE"] = 0x0B91;
   e["STENCIL_FUNC"] = 0x0B92;
   e["STENCIL_VALUE_MASK"] = 0x0B93;
   e["STENCIL_FAIL"] = 0x0B94;
   e["STENCIL_PASS_DEPTH_FAIL"] = 0x0B95;
   e["STENCIL_PASS_DEPTH_PASS"] = 0x0B96;
   e["STENCIL_REF"] = 0x0B97;
   e["STENCIL_WRITEMASK"] = 0x0B98;
   e["MATRIX_MODE"] = 0x0BA0;
   e["NORMALIZE"] = 0x0BA1;
   e["VIEWPORT"] = 0x0BA2;
   e["MODELVIEW_STACK_DEPTH"] = 0x0BA3;
   e["PROJECTION_STACK_DEPTH"] = 0x0BA4;
   e["TEXTURE_STACK_DEPTH"] = 0x0BA5;
   e["MODELVIEW_MATRIX"] = 0x0BA6;
   e["PROJECTION_MATRIX"] = 0x0BA7;
   e["TEXTURE_MATRIX"] = 0x0BA8;
   e["ATTRIB_STACK_DEPTH"] = 0x0BB0;
   e["CLIENT_ATTRIB_STACK_DEPTH"] = 0x0BB1;
   e["ALPHA_TEST"] = 0x0BC0;
   e["ALPHA_TEST_FUNC"] = 0x0BC1;
   e["ALPHA_TEST_REF"] = 0x0BC2;
   e["DITHER"] = 0x0BD0;
   e["BLEND_DST"] = 0x0BE0;
   e["BLEND_SRC"] = 0x0BE1;
   e["BLEND"] = 0x0BE2;
   e["LOGIC_OP_MODE"] = 0x0BF0;
   e["INDEX_LOGIC_OP"] = 0x0BF1;
   e["COLOR_LOGIC_OP"] = 0x0BF2;
   e["AUX_BUFFERS"] = 0x0C00;
   e["DRAW_BUFFER"] = 0x0C01;
   e["READ_BUFFER"] = 0x0C02;
   e["SCISSOR_BOX"] = 0x0C10;
   e["SCISSOR_TEST"] = 0x0C11;
   e["INDEX_CLEAR_VALUE"] = 0x0C20;
   e["INDEX_WRITEMASK"] = 0x0C21;
   e["COLOR_CLEAR_VALUE"] = 0x0C22;
   e["COLOR_WRITEMASK"] = 0x0C23;
   e["INDEX_MODE"] = 0x0C30;
   e["RGBA_MODE"] = 0x0C31;
   e["DOUBLEBUFFER"] = 0x0C32;
   e["STEREO"] = 0x0C33;
   e["RENDER_MODE"] = 0x0C40;
   e["PERSPECTIVE_CORRECTION_HINT"] = 0x0C50;
   e["POINT_SMOOTH_HINT"] = 0x0C51;
   e["LINE_SMOOTH_HINT"] = 0x0C52;
   e["POLYGON_SMOOTH_HINT"] = 0x0C53;
   e["FOG_HINT"] = 0x0C54;
   e["TEXTURE_GEN_S"] = 0x0C60;
   e["TEXTURE_GEN_T"] = 0x0C61;
   e["TEXTURE_GEN_R"] = 0x0C62;
   e["TEXTURE_GEN_Q"] = 0x0C63;
   e["PIXEL_MAP_I_TO_I"] = 0x0C70;
   e["PIXEL_MAP_S_TO_S"] = 0x0C71;
   e["PIXEL_MAP_I_TO_R"] = 0x0C72;
   e["PIXEL_MAP_I_TO_G"] = 0x0C73;
   e["PIXEL_MAP_I_TO_B"] = 0x0C74;
   e["PIXEL_MAP_I_TO_A"] = 0x0C75;
   e["PIXEL_MAP_R_TO_R"] = 0x0C76;
   e["PIXEL_MAP_G_TO_G"] = 0x0C77;
   e["PIXEL_MAP_B_TO_B"] = 0x0C78;
   e["PIXEL_MAP_A_TO_A"] = 0x0C79;
   e["PIXEL_MAP_I_TO_I_SIZE"] = 0x0CB0;
   e["PIXEL_MAP_S_TO_S_SIZE"] = 0x0CB1;
   e["PIXEL_MAP_I_TO_R_SIZE"] = 0x0CB2;
   e["PIXEL_MAP_I_TO_G_SIZE"] = 0x0CB3;
   e["PIXEL_MAP_I_TO_B_SIZE"] = 0x0CB4;
   e["PIXEL_MAP_I_TO_A_SIZE"] = 0x0CB5;
   e["PIXEL_MAP_R_TO_R_SIZE"] = 0x0CB6;
   e["PIXEL_MAP_G_TO_G_SIZE"] = 0x0CB7;
   e["PIXEL_MAP_B_TO_B_SIZE"] = 0x0CB8;
   e["PIXEL_MAP_A_TO_A_SIZE"] = 0x0CB9;
   e["UNPACK_SWAP_BYTES"] = 0x0CF0;
   e["UNPACK_LSB_FIRST"] = 0x0CF1;
   e["UNPACK_ROW_LENGTH"] = 0x0CF2;
   e["UNPACK_SKIP_ROWS"] = 0x0CF3;
   e["UNPACK_SKIP_PIXELS"] = 0x0CF4;
   e["UNPACK_ALIGNMENT"] = 0x0CF5;
   e["PACK_SWAP_BYTES"] = 0x0D00;
   e["PACK_LSB_FIRST"] = 0x0D01;
   e["PACK_ROW_LENGTH"] = 0x0D02;
   e["PACK_SKIP_ROWS"] = 0x0D03;
   e["PACK_SKIP_PIXELS"] = 0x0D04;
   e["PACK_ALIGNMENT"] = 0x0D05;
   e["MAP_COLOR"] = 0x0D10;
   e["MAP_STENCIL"] = 0x0D11;
   e["INDEX_SHIFT"] = 0x0D12;
   e["INDEX_OFFSET"] = 0x0D13;
   e["RED_SCALE"] = 0x0D14;
   e["RED_BIAS"] = 0x0D15;
   e["ZOOM_X"] = 0x0D16;
   e["ZOOM_Y"] = 0x0D17;
   e["GREEN_SCALE"] = 0x0D18;
   e["GREEN_BIAS"] = 0x0D19;
   e["BLUE_SCALE"] = 0x0D1A;
   e["BLUE_BIAS"] = 0x0D1B;
   e["ALPHA_SCALE"] = 0x0D1C;
   e["ALPHA_BIAS"] = 0x0D1D;
   e["DEPTH_SCALE"] = 0x0D1E;
   e["DEPTH_BIAS"] = 0x0D1F;
   e["MAX_EVAL_ORDER"] = 0x0D30;
   e["MAX_LIGHTS"] = 0x0D31;
   e["MAX_CLIP_PLANES"] = 0x0D32;
   e["MAX_TEXTURE_SIZE"] = 0x0D33;
   e["MAX_PIXEL_MAP_TABLE"] = 0x0D34;
   e["MAX_ATTRIB_STACK_DEPTH"] = 0x0D35;
   e["MAX_MODELVIEW_STACK_DEPTH"] = 0x0D36;
   e["MAX_NAME_STACK_DEPTH"] = 0x0D37;
   e["MAX_PROJECTION_STACK_DEPTH"] = 0x0D38;
   e["MAX_TEXTURE_STACK_DEPTH"] = 0x0D39;
   e["MAX_VIEWPORT_DIMS"] = 0x0D3A;
   e["MAX_CLIENT_ATTRIB_STACK_DEPTH"] = 0x0D3B;
   e["SUBPIXEL_BITS"] = 0x0D50;
   e["INDEX_BITS"] = 0x0D51;
   e["RED_BITS"] = 0x0D52;
   e["GREEN_BITS"] = 0x0D53;
   e["BLUE_BITS"] = 0x0D54;
   e["ALPHA_BITS"] = 0x0D55;
   e["DEPTH_BITS"] = 0x0D56;
   e["STENCIL_BITS"] = 0x0D57;
   e["ACCUM_RED_BITS"] = 0x0D58;
   e["ACCUM_GREEN_BITS"] = 0x0D59;
   e["ACCUM_BLUE_BITS"] = 0x0D5A;
   e["ACCUM_ALPHA_BITS"] = 0x0D5B;
   e["NAME_STACK_DEPTH"] = 0x0D70;
   e["AUTO_NORMAL"] = 0x0D80;
   e["MAP1_COLOR_4"] = 0x0D90;
   e["MAP1_INDEX"] = 0x0D91;
   e["MAP1_NORMAL"] = 0x0D92;
   e["MAP1_TEXTURE_COORD_1"] = 0x0D93;
   e["MAP1_TEXTURE_COORD_2"] = 0x0D94;
   e["MAP1_TEXTURE_COORD_3"] = 0x0D95;
   e["MAP1_TEXTURE_COORD_4"] = 0x0D96;
   e["MAP1_VERTEX_3"] = 0x0D97;
   e["MAP1_VERTEX_4"] = 0x0D98;
   e["MAP2_COLOR_4"] = 0x0DB0;
   e["MAP2_INDEX"] = 0x0DB1;
   e["MAP2_NORMAL"] = 0x0DB2;
   e["MAP2_TEXTURE_COORD_1"] = 0x0DB3;
   e["MAP2_TEXTURE_COORD_2"] = 0x0DB4;
   e["MAP2_TEXTURE_COORD_3"] = 0x0DB5;
   e["MAP2_TEXTURE_COORD_4"] = 0x0DB6;
   e["MAP2_VERTEX_3"] = 0x0DB7;
   e["MAP2_VERTEX_4"] = 0x0DB8;
   e["MAP1_GRID_DOMAIN"] = 0x0DD0;
   e["MAP1_GRID_SEGMENTS"] = 0x0DD1;
   e["MAP2_GRID_DOMAIN"] = 0x0DD2;
   e["MAP2_GRID_SEGMENTS"] = 0x0DD3;
   e["TEXTURE_1D"] = 0x0DE0;
   e["TEXTURE_2D"] = 0x0DE1;
   e["FEEDBACK_BUFFER_POINTER"] = 0x0DF0;
   e["FEEDBACK_BUFFER_SIZE"] = 0x0DF1;
   e["FEEDBACK_BUFFER_TYPE"] = 0x0DF2;
   e["SELECTION_BUFFER_POINTER"] = 0x0DF3;
   e["SELECTION_BUFFER_SIZE"] = 0x0DF4;
   e["TEXTURE_WIDTH"] = 0x1000;
   e["TRANSFORM_BIT"] = 0x00001000;
   e["TEXTURE_HEIGHT"] = 0x1001;
   e["TEXTURE_INTERNAL_FORMAT"] = 0x1003;
   e["TEXTURE_BORDER_COLOR"] = 0x1004;
   e["TEXTURE_BORDER"] = 0x1005;
   e["DONT_CARE"] = 0x1100;
   e["FASTEST"] = 0x1101;
   e["NICEST"] = 0x1102;
   e["AMBIENT"] = 0x1200;
   e["DIFFUSE"] = 0x1201;
   e["SPECULAR"] = 0x1202;
   e["POSITION"] = 0x1203;
   e["SPOT_DIRECTION"] = 0x1204;
   e["SPOT_EXPONENT"] = 0x1205;
   e["SPOT_CUTOFF"] = 0x1206;
   e["CONSTANT_ATTENUATION"] = 0x1207;
   e["LINEAR_ATTENUATION"] = 0x1208;
   e["QUADRATIC_ATTENUATION"] = 0x1209;
   e["COMPILE"] = 0x1300;
   e["COMPILE_AND_EXECUTE"] = 0x1301;
   e["BYTE"] = 0x1400;
   e["UNSIGNED_BYTE"] = 0x1401;
   e["SHORT"] = 0x1402;
   e["UNSIGNED_SHORT"] = 0x1403;
   e["INT"] = 0x1404;
   e["UNSIGNED_INT"] = 0x1405;
   e["FLOAT"] = 0x1406;
   e["2_BYTES"] = 0x1407;
   e["3_BYTES"] = 0x1408;
   e["4_BYTES"] = 0x1409;
   e["DOUBLE"] = 0x140A;
   e["CLEAR"] = 0x1500;
   e["AND"] = 0x1501;
   e["AND_REVERSE"] = 0x1502;
   e["COPY"] = 0x1503;
   e["AND_INVERTED"] = 0x1504;
   e["NOOP"] = 0x1505;
   e["XOR"] = 0x1506;
   e["OR"] = 0x1507;
   e["NOR"] = 0x1508;
   e["EQUIV"] = 0x1509;
   e["INVERT"] = 0x150A;
   e["OR_REVERSE"] = 0x150B;
   e["COPY_INVERTED"] = 0x150C;
   e["OR_INVERTED"] = 0x150D;
   e["NAND"] = 0x150E;
   e["SET"] = 0x150F;
   e["EMISSION"] = 0x1600;
   e["SHININESS"] = 0x1601;
   e["AMBIENT_AND_DIFFUSE"] = 0x1602;
   e["COLOR_INDEXES"] = 0x1603;
   e["MODELVIEW"] = 0x1700;
   e["PROJECTION"] = 0x1701;
   e["TEXTURE"] = 0x1702;
   e["COLOR"] = 0x1800;
   e["DEPTH"] = 0x1801;
   e["STENCIL"] = 0x1802;
   e["COLOR_INDEX"] = 0x1900;
   e["STENCIL_INDEX"] = 0x1901;
   e["DEPTH_COMPONENT"] = 0x1902;
   e["RED"] = 0x1903;
   e["GREEN"] = 0x1904;
   e["BLUE"] = 0x1905;
   e["ALPHA"] = 0x1906;
   e["RGB"] = 0x1907;
   e["RGBA"] = 0x1908;
   e["LUMINANCE"] = 0x1909;
   e["LUMINANCE_ALPHA"] = 0x190A;
   e["BITMAP"] = 0x1A00;
   e["POINT"] = 0x1B00;
   e["LINE"] = 0x1B01;
   e["FILL"] = 0x1B02;
   e["RENDER"] = 0x1C00;
   e["FEEDBACK"] = 0x1C01;
   e["SELECT"] = 0x1C02;
   e["FLAT"] = 0x1D00;
   e["SMOOTH"] = 0x1D01;
   e["KEEP"] = 0x1E00;
   e["REPLACE"] = 0x1E01;
   e["INCR"] = 0x1E02;
   e["DECR"] = 0x1E03;
   e["VENDOR"] = 0x1F00;
   e["RENDERER"] = 0x1F01;
   e["VERSION"] = 0x1F02;
   e["EXTENSIONS"] = 0x1F03;
   e["S"] = 0x2000;
   e["ENABLE_BIT"] = 0x00002000;
   e["T"] = 0x2001;
   e["R"] = 0x2002;
   e["Q"] = 0x2003;
   e["MODULATE"] = 0x2100;
   e["DECAL"] = 0x2101;
   e["TEXTURE_ENV_MODE"] = 0x2200;
   e["TEXTURE_ENV_COLOR"] = 0x2201;
   e["TEXTURE_ENV"] = 0x2300;
   e["EYE_LINEAR"] = 0x2400;
   e["OBJECT_LINEAR"] = 0x2401;
   e["SPHERE_MAP"] = 0x2402;
   e["TEXTURE_GEN_MODE"] = 0x2500;
   e["OBJECT_PLANE"] = 0x2501;
   e["EYE_PLANE"] = 0x2502;
   e["NEAREST"] = 0x2600;
   e["LINEAR"] = 0x2601;
   e["NEAREST_MIPMAP_NEAREST"] = 0x2700;
   e["LINEAR_MIPMAP_NEAREST"] = 0x2701;
   e["NEAREST_MIPMAP_LINEAR"] = 0x2702;
   e["LINEAR_MIPMAP_LINEAR"] = 0x2703;
   e["TEXTURE_MAG_FILTER"] = 0x2800;
   e["TEXTURE_MIN_FILTER"] = 0x2801;
   e["TEXTURE_WRAP_S"] = 0x2802;
   e["TEXTURE_WRAP_T"] = 0x2803;
   e["CLAMP"] = 0x2900;
   e["REPEAT"] = 0x2901;
   e["POLYGON_OFFSET_UNITS"] = 0x2A00;
   e["POLYGON_OFFSET_POINT"] = 0x2A01;
   e["POLYGON_OFFSET_LINE"] = 0x2A02;
   e["R3_G3_B2"] = 0x2A10;
   e["V2F"] = 0x2A20;
   e["V3F"] = 0x2A21;
   e["C4UB_V2F"] = 0x2A22;
   e["C4UB_V3F"] = 0x2A23;
   e["C3F_V3F"] = 0x2A24;
   e["N3F_V3F"] = 0x2A25;
   e["C4F_N3F_V3F"] = 0x2A26;
   e["T2F_V3F"] = 0x2A27;
   e["T4F_V4F"] = 0x2A28;
   e["T2F_C4UB_V3F"] = 0x2A29;
   e["T2F_C3F_V3F"] = 0x2A2A;
   e["T2F_N3F_V3F"] = 0x2A2B;
   e["T2F_C4F_N3F_V3F"] = 0x2A2C;
   e["T4F_C4F_N3F_V4F"] = 0x2A2D;
   e["CLIP_PLANE0"] = 0x3000;
   e["CLIP_PLANE1"] = 0x3001;
   e["CLIP_PLANE2"] = 0x3002;
   e["CLIP_PLANE3"] = 0x3003;
   e["CLIP_PLANE4"] = 0x3004;
   e["CLIP_PLANE5"] = 0x3005;
   e["LIGHT0"] = 0x4000;
   e["COLOR_BUFFER_BIT"] = 0x00004000;
   e["LIGHT1"] = 0x4001;
   e["LIGHT2"] = 0x4002;
   e["LIGHT3"] = 0x4003;
   e["LIGHT4"] = 0x4004;
   e["LIGHT5"] = 0x4005;
   e["LIGHT6"] = 0x4006;
   e["LIGHT7"] = 0x4007;
   e["HINT_BIT"] = 0x00008000;
   e["POLYGON_OFFSET_FILL"] = 0x8037;
   e["POLYGON_OFFSET_FACTOR"] = 0x8038;
   e["ALPHA4"] = 0x803B;
   e["ALPHA8"] = 0x803C;
   e["ALPHA12"] = 0x803D;
   e["ALPHA16"] = 0x803E;
   e["LUMINANCE4"] = 0x803F;
   e["LUMINANCE8"] = 0x8040;
   e["LUMINANCE12"] = 0x8041;
   e["LUMINANCE16"] = 0x8042;
   e["LUMINANCE4_ALPHA4"] = 0x8043;
   e["LUMINANCE6_ALPHA2"] = 0x8044;
   e["LUMINANCE8_ALPHA8"] = 0x8045;
   e["LUMINANCE12_ALPHA4"] = 0x8046;
   e["LUMINANCE12_ALPHA12"] = 0x8047;
   e["LUMINANCE16_ALPHA16"] = 0x8048;
   e["INTENSITY"] = 0x8049;
   e["INTENSITY4"] = 0x804A;
   e["INTENSITY8"] = 0x804B;
   e["INTENSITY12"] = 0x804C;
   e["INTENSITY16"] = 0x804D;
   e["RGB4"] = 0x804F;
   e["RGB5"] = 0x8050;
   e["RGB8"] = 0x8051;
   e["RGB10"] = 0x8052;
   e["RGB12"] = 0x8053;
   e["RGB16"] = 0x8054;
   e["RGBA2"] = 0x8055;
   e["RGBA4"] = 0x8056;
   e["RGB5_A1"] = 0x8057;
   e["RGBA8"] = 0x8058;
   e["RGB10_A2"] = 0x8059;
   e["RGBA12"] = 0x805A;
   e["RGBA16"] = 0x805B;
   e["TEXTURE_RED_SIZE"] = 0x805C;
   e["TEXTURE_GREEN_SIZE"] = 0x805D;
   e["TEXTURE_BLUE_SIZE"] = 0x805E;
   e["TEXTURE_ALPHA_SIZE"] = 0x805F;
   e["TEXTURE_LUMINANCE_SIZE"] = 0x8060;
   e["TEXTURE_INTENSITY_SIZE"] = 0x8061;
   e["PROXY_TEXTURE_1D"] = 0x8063;
   e["PROXY_TEXTURE_2D"] = 0x8064;
   e["TEXTURE_PRIORITY"] = 0x8066;
   e["TEXTURE_RESIDENT"] = 0x8067;
   e["TEXTURE_BINDING_1D"] = 0x8068;
   e["TEXTURE_BINDING_2D"] = 0x8069;
   e["VERTEX_ARRAY"] = 0x8074;
   e["NORMAL_ARRAY"] = 0x8075;
   e["COLOR_ARRAY"] = 0x8076;
   e["INDEX_ARRAY"] = 0x8077;
   e["TEXTURE_COORD_ARRAY"] = 0x8078;
   e["EDGE_FLAG_ARRAY"] = 0x8079;
   e["VERTEX_ARRAY_SIZE"] = 0x807A;
   e["VERTEX_ARRAY_TYPE"] = 0x807B;
   e["VERTEX_ARRAY_STRIDE"] = 0x807C;
   e["NORMAL_ARRAY_TYPE"] = 0x807E;
   e["NORMAL_ARRAY_STRIDE"] = 0x807F;
   e["COLOR_ARRAY_SIZE"] = 0x8081;
   e["COLOR_ARRAY_TYPE"] = 0x8082;
   e["COLOR_ARRAY_STRIDE"] = 0x8083;
   e["INDEX_ARRAY_TYPE"] = 0x8085;
   e["INDEX_ARRAY_STRIDE"] = 0x8086;
   e["TEXTURE_COORD_ARRAY_SIZE"] = 0x8088;
   e["TEXTURE_COORD_ARRAY_TYPE"] = 0x8089;
   e["TEXTURE_COORD_ARRAY_STRIDE"] = 0x808A;
   e["EDGE_FLAG_ARRAY_STRIDE"] = 0x808C;
   e["VERTEX_ARRAY_POINTER"] = 0x808E;
   e["NORMAL_ARRAY_POINTER"] = 0x808F;
   e["COLOR_ARRAY_POINTER"] = 0x8090;
   e["INDEX_ARRAY_POINTER"] = 0x8091;
   e["TEXTURE_COORD_ARRAY_POINTER"] = 0x8092;
   e["EDGE_FLAG_ARRAY_POINTER"] = 0x8093;
   e["COLOR_INDEX1_EXT"] = 0x80E2;
   e["COLOR_INDEX2_EXT"] = 0x80E3;
   e["COLOR_INDEX4_EXT"] = 0x80E4;
   e["COLOR_INDEX8_EXT"] = 0x80E5;
   e["COLOR_INDEX12_EXT"] = 0x80E6;
   e["COLOR_INDEX16_EXT"] = 0x80E7;
   e["EVAL_BIT"] = 0x00010000;
   e["LIST_BIT"] = 0x00020000;
   e["TEXTURE_BIT"] = 0x00040000;
   e["SCISSOR_BIT"] = 0x00080000;
   e["ALL_ATTRIB_BITS"] = 0x000fffff;
   e["CLIENT_ALL_ATTRIB_BITS"] = 0xffffffff;
}

void OpenGLWrapper::bindFboEnums(sol::table& table) {
   sol::optional<sol::table> hasEnumTable = table["enum"];
   sol::table e;
   if (!hasEnumTable) {
      table.create_named("enum");
   }

   e = table["enum"];
   e["INVALID_FRAMEBUFFER_OPERATION"] = 0x0506;
   e["FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING"] = 0x8210;
   e["FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE"] = 0x8211;
   e["FRAMEBUFFER_ATTACHMENT_RED_SIZE"] = 0x8212;
   e["FRAMEBUFFER_ATTACHMENT_GREEN_SIZE"] = 0x8213;
   e["FRAMEBUFFER_ATTACHMENT_BLUE_SIZE"] = 0x8214;
   e["FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE"] = 0x8215;
   e["FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE"] = 0x8216;
   e["FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE"] = 0x8217;
   e["FRAMEBUFFER_DEFAULT"] = 0x8218;
   e["FRAMEBUFFER_UNDEFINED"] = 0x8219;
   e["DEPTH_STENCIL_ATTACHMENT"] = 0x821A;
   e["INDEX"] = 0x8222;
   e["MAX_RENDERBUFFER_SIZE"] = 0x84E8;
   e["DEPTH_STENCIL"] = 0x84F9;
   e["UNSIGNED_INT_24_8"] = 0x84FA;
   e["DEPTH24_STENCIL8"] = 0x88F0;
   e["TEXTURE_STENCIL_SIZE"] = 0x88F1;
   e["UNSIGNED_NORMALIZED"] = 0x8C17;
   e["SRGB"] = 0x8C40;
   e["DRAW_FRAMEBUFFER_BINDING"] = 0x8CA6;
   e["FRAMEBUFFER_BINDING"] = 0x8CA6;
   e["RENDERBUFFER_BINDING"] = 0x8CA7;
   e["READ_FRAMEBUFFER"] = 0x8CA8;
   e["DRAW_FRAMEBUFFER"] = 0x8CA9;
   e["READ_FRAMEBUFFER_BINDING"] = 0x8CAA;
   e["RENDERBUFFER_SAMPLES"] = 0x8CAB;
   e["FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE"] = 0x8CD0;
   e["FRAMEBUFFER_ATTACHMENT_OBJECT_NAME"] = 0x8CD1;
   e["FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL"] = 0x8CD2;
   e["FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE"] = 0x8CD3;
   e["FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER"] = 0x8CD4;
   e["FRAMEBUFFER_COMPLETE"] = 0x8CD5;
   e["FRAMEBUFFER_INCOMPLETE_ATTACHMENT"] = 0x8CD6;
   e["FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT"] = 0x8CD7;
   e["FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER"] = 0x8CDB;
   e["FRAMEBUFFER_INCOMPLETE_READ_BUFFER"] = 0x8CDC;
   e["FRAMEBUFFER_UNSUPPORTED"] = 0x8CDD;
   e["MAX_COLOR_ATTACHMENTS"] = 0x8CDF;
   e["COLOR_ATTACHMENT0"] = 0x8CE0;
   e["COLOR_ATTACHMENT1"] = 0x8CE1;
   e["COLOR_ATTACHMENT2"] = 0x8CE2;
   e["COLOR_ATTACHMENT3"] = 0x8CE3;
   e["COLOR_ATTACHMENT4"] = 0x8CE4;
   e["COLOR_ATTACHMENT5"] = 0x8CE5;
   e["COLOR_ATTACHMENT6"] = 0x8CE6;
   e["COLOR_ATTACHMENT7"] = 0x8CE7;
   e["COLOR_ATTACHMENT8"] = 0x8CE8;
   e["COLOR_ATTACHMENT9"] = 0x8CE9;
   e["COLOR_ATTACHMENT10"] = 0x8CEA;
   e["COLOR_ATTACHMENT11"] = 0x8CEB;
   e["COLOR_ATTACHMENT12"] = 0x8CEC;
   e["COLOR_ATTACHMENT13"] = 0x8CED;
   e["COLOR_ATTACHMENT14"] = 0x8CEE;
   e["COLOR_ATTACHMENT15"] = 0x8CEF;
   e["DEPTH_ATTACHMENT"] = 0x8D00;
   e["STENCIL_ATTACHMENT"] = 0x8D20;
   e["FRAMEBUFFER"] = 0x8D40;
   e["RENDERBUFFER"] = 0x8D41;
   e["RENDERBUFFER_WIDTH"] = 0x8D42;
   e["RENDERBUFFER_HEIGHT"] = 0x8D43;
   e["RENDERBUFFER_INTERNAL_FORMAT"] = 0x8D44;
   e["STENCIL_INDEX1"] = 0x8D46;
   e["STENCIL_INDEX4"] = 0x8D47;
   e["STENCIL_INDEX8"] = 0x8D48;
   e["STENCIL_INDEX16"] = 0x8D49;
   e["RENDERBUFFER_RED_SIZE"] = 0x8D50;
   e["RENDERBUFFER_GREEN_SIZE"] = 0x8D51;
   e["RENDERBUFFER_BLUE_SIZE"] = 0x8D52;
   e["RENDERBUFFER_ALPHA_SIZE"] = 0x8D53;
   e["RENDERBUFFER_DEPTH_SIZE"] = 0x8D54;
   e["RENDERBUFFER_STENCIL_SIZE"] = 0x8D55;
   e["FRAMEBUFFER_INCOMPLETE_MULTISAMPLE"] = 0x8D56;
   e["MAX_SAMPLES"] = 0x8D57;
}
